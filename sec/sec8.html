<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>信息收集 | 归去来的站点</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="欢迎来到我的地盘">
    <link rel="preload" href="/assets/css/0.styles.382ea894.css" as="style"><link rel="preload" href="/assets/js/app.bde53360.js" as="script"><link rel="preload" href="/assets/js/2.a9345ecb.js" as="script"><link rel="preload" href="/assets/js/21.e110b60a.js" as="script"><link rel="prefetch" href="/assets/js/10.07b30c61.js"><link rel="prefetch" href="/assets/js/11.27c9656f.js"><link rel="prefetch" href="/assets/js/12.a43a7ec0.js"><link rel="prefetch" href="/assets/js/13.3edfc33b.js"><link rel="prefetch" href="/assets/js/14.ce21cbe2.js"><link rel="prefetch" href="/assets/js/15.92967084.js"><link rel="prefetch" href="/assets/js/16.74b34b8d.js"><link rel="prefetch" href="/assets/js/17.ba7d6246.js"><link rel="prefetch" href="/assets/js/18.721c8186.js"><link rel="prefetch" href="/assets/js/19.6660e735.js"><link rel="prefetch" href="/assets/js/20.0ada9fe5.js"><link rel="prefetch" href="/assets/js/22.fce052f5.js"><link rel="prefetch" href="/assets/js/3.39979de9.js"><link rel="prefetch" href="/assets/js/4.97b1d945.js"><link rel="prefetch" href="/assets/js/5.43b30e45.js"><link rel="prefetch" href="/assets/js/6.ca570be8.js"><link rel="prefetch" href="/assets/js/7.8faab811.js"><link rel="prefetch" href="/assets/js/8.8dea5bdd.js"><link rel="prefetch" href="/assets/js/9.606f9310.js">
    <link rel="stylesheet" href="/assets/css/0.styles.382ea894.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.png" alt="归去来的站点" class="logo"> <span class="site-name can-hide">归去来的站点</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/basics/" class="nav-link">
  基础教程
</a></div><div class="nav-item"><a href="/project/" class="nav-link">
  项目实战
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  零散文章
</a></div><div class="nav-item"><a href="/foo/" class="nav-link">
  foo
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/sec/" class="nav-link router-link-active">
  网络安全
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basics/vue全家桶/" class="nav-link">
  VUE全家桶
</a></li><li class="dropdown-subitem"><a href="/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">
  JAVASCRIPT
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/" class="nav-link">
  JAVA
</a></li><li class="dropdown-subitem"><a href="/go/" class="nav-link">
  GO
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/" class="nav-link">
  杂项
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/basics/" class="nav-link">
  基础教程
</a></div><div class="nav-item"><a href="/project/" class="nav-link">
  项目实战
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  零散文章
</a></div><div class="nav-item"><a href="/foo/" class="nav-link">
  foo
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/sec/" class="nav-link router-link-active">
  网络安全
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basics/vue全家桶/" class="nav-link">
  VUE全家桶
</a></li><li class="dropdown-subitem"><a href="/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">
  JAVASCRIPT
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/" class="nav-link">
  JAVA
</a></li><li class="dropdown-subitem"><a href="/go/" class="nav-link">
  GO
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/" class="nav-link">
  杂项
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网络安全基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/sec/" class="sidebar-link">渗透测试</a></li><li><a href="/sec/sec8.html" class="active sidebar-link">信息收集</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sec/sec8.html#testfire-net" class="sidebar-link">testfire.net</a></li><li class="sidebar-sub-header"><a href="/sec/sec8.html#dns-信息" class="sidebar-link">DNS 信息</a></li><li class="sidebar-sub-header"><a href="/sec/sec8.html#whois查询" class="sidebar-link">whois查询</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络安全高级</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="信息收集"><a href="#信息收集" class="header-anchor">#</a> 信息收集</h1> <blockquote><p>在划定了测试范围之后，就需要进入信息收集阶段。在这个阶段，渗透人员需要使用各种公共资源尽可能地获取测试目标的相关信息。他们从互联网上搜集信息的渠道主要有：</p></blockquote> <p>@	论坛</p> <p>@	公告板</p> <p>@	新闻组</p> <p>@	媒体文章</p> <p>@	博客</p> <p>@	社交网络</p> <p>@	其他商业或非商业性网站</p> <p>@	GitHub</p> <p>….</p> <p>此外，他们也可以借助各种搜索引擎中获取相关数据，如谷歌、雅虎、MSN必应、百度等。收集信息主要包括DNS 服务器、路由关系、whois 数据库、电子邮件地址、电话号码、个人信息以及用户账户。收集信息越多，渗透测试成功的概率越高</p> <h2 id="testfire-net"><a href="#testfire-net" class="header-anchor">#</a> testfire.net</h2> <p>testfire.net 是IBM 公司为了演示旗下比较有名的Web 漏洞扫描器AppScan 的强大功能所搭建的模拟银行网站，所以上面会有很多常见的Web 安全漏洞</p> <p><img src="assets/1588474941193.png" alt="1588474941193"></p> <p>类似的测试网站</p> <p>[http://vulnweb.com/]
<img src="assets/1588474862999.png" alt="1588474862999"></p> <h2 id="dns-信息"><a href="#dns-信息" class="header-anchor">#</a> DNS 信息</h2> <p>在收集DNS 信息的时候，主要关注域名或注册商，管理员联系方式，电话和邮箱，子域名等信息。</p> <h2 id="whois查询"><a href="#whois查询" class="header-anchor">#</a> whois查询</h2> <p>whois是一个集成在kali 虚拟机中的小工具</p> <p>whois工具可以用来查询域名注册信息。</p> <p>[whois domain]</p> <p>[whois testfire.net]</p> <p>也可以通过<strong>站长之家</strong>进行whois 查询[http://whois.chinaz.com]</p> <p>除了whois 查询以外，还可以进行反查。</p> <table><thead><tr><th>@</th> <th>邮箱反查</th></tr></thead> <tbody><tr><td>@</td> <td>注册人反查</td></tr> <tr><td>@</td> <td>电话反查</td></tr></tbody></table> <h3 id="子域名查询"><a href="#子域名查询" class="header-anchor">#</a> 子域名查询</h3> <p>可以查询子域名的网站[https://searchdns.netcraft.com/]，这种方法查询大型网站比较有优势</p> <table><thead><tr><th>@</th> <th>Netcraft.com</th></tr></thead> <tbody><tr><td>@</td> <td>证书</td></tr></tbody></table> <h3 id="域传送漏洞"><a href="#域传送漏洞" class="header-anchor">#</a> 域传送漏洞</h3> <p>DNS区域传送指的是一台备用服务器使用来自主服务器的数据刷新自己的域数据库。这为运行中的DNS 服务提供了一定的冗余度，其目的是为了防止主域名服务器因为意外故障变得不可用时影响到整个域名的解析。一般来说，DNS区域传送操作只在网络中真的有备用域名服务器的时候才有必要用到，但是许多DNS服务器却被错误的配置成只要有client 发出请求，就会像对方提供一个zone 的数据库的详细信息，所以说允许不受信任的英特网用户执行DNS区域传送操作是后果最为严重的错误配置之一。</p> <p>可以使用<strong>dig 工具</strong>来检测域传送漏洞，命令如下</p> <p>[dig axfr @dns.example.com example.com]</p> <p>通过域传送漏洞</p> <p>​	子域名信息</p> <p>​	子域名对应的IP地址</p> <h3 id="子域名爆破"><a href="#子域名爆破" class="header-anchor">#</a> 子域名爆破</h3> <h4 id="工具："><a href="#工具：" class="header-anchor">#</a> 工具：</h4> <p>1、layer(子域名挖掘机)</p> <p>2、dnsrecon</p> <p>dnsrecon -d vulnweb.com -D /root/tmp/dic/dns.dic -t brt</p> <p>-d 指定域名 -D 指定字典 -t 指定模式</p> <p>准备一个字典写上所有的域名（4个字母左右别超过10个）。字典中的每个单词，依次去尝试</p> <p>工具不重要，重要的是字典</p> <h3 id="dnstoip"><a href="#dnstoip" class="header-anchor">#</a> DNSToIP</h3> <p>通过DNS 解析找到IP地址</p> <h4 id="ping"><a href="#ping" class="header-anchor">#</a> ping</h4> <p>非权威解答</p> <p>ping testfire.net</p> <p>65.61.137.117</p> <p>ping baidu.com</p> <p>39.156.69.79</p> <p>ping www.baidu.com</p> <p>39.156.66.18</p> <h4 id="nslookup"><a href="#nslookup" class="header-anchor">#</a> nslookup</h4> <p>testfire.net      65.61.137.117</p> <hr> <blockquote><p>testfire.net</p></blockquote> <p>Server:                192.168.1.2</p> <p>Address:        192.168.1.2#53</p> <p>Non-authoritative answer:</p> <p>Name:        testfire.net</p> <p>Address: 65.61.137.117</p> <hr> <blockquote><p>baidu.com</p></blockquote> <p>Server:                192.168.1.2</p> <p>Address:        192.168.1.2#53</p> <p>Non-authoritative answer:</p> <p>Name:        baidu.com</p> <p>Address: 39.156.69.79</p> <p>Name:        baidu.com</p> <p>Address: 220.181.38.148</p> <h4 id="dig"><a href="#dig" class="header-anchor">#</a> dig</h4> <p>dig testfire.net</p> <p>dig @8.8.8.8 testfire.net    指定dns服务器</p> <p>dig +trace testfire.net     获取域名的详细解析过程</p> <h4 id="dnsenum"><a href="#dnsenum" class="header-anchor">#</a> dnsenum</h4> <p>dnsenum testfire.net</p> <p>此处推荐<strong>dnsenum</strong>，此工具在解析域名的时候会自动检测域传送漏洞</p> <h4 id="利用站长工具"><a href="#利用站长工具" class="header-anchor">#</a> 利用站长工具</h4> <p>http://tool.chinaz.com/dns/</p> <p>路由追踪</p> <h4 id="cdn-加速问题"><a href="#cdn-加速问题" class="header-anchor">#</a> CDN 加速问题</h4> <p>CDN 是内容分发网络</p> <p>本意是进行节点缓存，是网站访问速度加快。一般情况下是没办法得到目标的网站的真实IP 的。关于SDN 加速可以作为一个课题。</p> <p>参考资料如下：</p> <p>https://www.t00ls.net/</p> <p>http://www.91ri.org/6233.html</p> <p>http://www.91ri.org/3563.html</p> <h3 id="ip查询"><a href="#ip查询" class="header-anchor">#</a> IP查询</h3> <h4 id="ip查询-2"><a href="#ip查询-2" class="header-anchor">#</a> IP查询</h4> <p>http://ip.chinaz.com/65.61.137.117</p> <p>同IP 网站查询
同一个IP 上的网站</p> <p>1.1.1.1</p> <p>A     B</p> <p>旁站（同一个服务器上的两个网站）</p> <p>1.1.1.*        C 段查询</p> <h4 id="ip-whois-查询"><a href="#ip-whois-查询" class="header-anchor">#</a> IP whois 查询</h4> <p>IP2Location
65.61.137.117</p> <p>查询IP 地址经纬度
https://www.maxmind.com/zh/home</p> <p>得到IP地址的大致经纬度（40.9476, -73.8624）</p> <p>通过GPS 查询物理位置
http://www.gpsspg.com/maps.htm</p> <h4 id="利用搜索引擎搜集信息"><a href="#利用搜索引擎搜集信息" class="header-anchor">#</a> 利用搜索引擎搜集信息</h4> <p>Google hacking</p> <p>Google 机器人，爬行全世界所有网站的内容。Google hacker 就是利用搜索引擎语法，获取有关网站的信息。</p> <table><thead><tr><th>site</th> <th>指定网站</th></tr></thead> <tbody><tr><td>&quot;&quot;</td> <td>包含关键字</td></tr> <tr><td>inurl</td> <td>在url 中出现的关键字</td></tr> <tr><td>filetype</td> <td></td></tr></tbody></table> <ul><li><p>探索网站目录结构
&quot;parent directory&quot; site:testfire.net</p></li> <li><p>搜索容易存在sql 注入的页面
site:testfire.net inurl:login</p></li> <li><p>搜索指定的文件类型
filetype pdf</p></li> <li><p>搜索phpinfo()
intext:&quot;PHP Version&quot; exit:php intest:&quot;disabled&quot; intext:&quot;BuildDate&quot; intext:&quot;Syatem&quot; intext:&quot;allow_url_fopen&quot;</p></li> <li><p>搜索phpstudy</p></li> <li><p>搜索php 探针
intitle:&quot;php中文网 探针2014&quot;</p></li></ul> <h4 id="钟馗之眼"><a href="#钟馗之眼" class="header-anchor">#</a> 钟馗之眼</h4> <p>https://www.zoomeye.org/</p> <p>​	ZoomEye 支持公网设备指纹检索和Web 指纹检索。网站指纹包括应用名、版本、前端框架、后端框架、服务端语言、服务器操作系统、网站容器、内容管理系统和数据等。</p> <h4 id="搜索iis6-0-组件"><a href="#搜索iis6-0-组件" class="header-anchor">#</a> 搜索iis6.0 组件</h4> <p>app:&quot;Microsoft IIS httpd&quot; ver:&quot;6.0&quot;</p> <h4 id="搜索开启3389-端口的windows-主机"><a href="#搜索开启3389-端口的windows-主机" class="header-anchor">#</a> 搜索开启3389 端口的windows 主机</h4> <p>port:3389 OS:windows</p> <h4 id="shodan"><a href="#shodan" class="header-anchor">#</a> shodan</h4> <p>https://www.shodan.io/</p> <h3 id="网站信息收集"><a href="#网站信息收集" class="header-anchor">#</a> 网站信息收集</h3> <p>​	收集指纹信息</p> <p>​	Web 服务器信息</p> <p>​	火狐插件</p> <p>​	Netcraft Extension</p> <p>​	Wappalyzer</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/sec/" class="prev router-link-active">
        渗透测试
      </a></span> <span class="next"><a href="/sec/" class="router-link-active">
        渗透测试
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.bde53360.js" defer></script><script src="/assets/js/2.a9345ecb.js" defer></script><script src="/assets/js/21.e110b60a.js" defer></script>
  </body>
</html>
